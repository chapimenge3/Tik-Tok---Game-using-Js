const plays=document.querySelectorAll(".row"),startButton=document.querySelector(".button-start"),restartButton=document.querySelector(".button-restart");var grid=["","","","","","","","",""],winstate=[[1,2,3],[4,5,6],[7,8,9],[1,3,7],[2,5,8],[3,6,9],[1,5,9],[7,5,3]],lastBall=void 0,started=!1,numberOfClicks=0;window.addEventListener("load",()=>{plays.forEach(button=>{button.textContent=""}),document.querySelector(".message").textContent="Playing..."}),plays.forEach((button,index)=>{button.addEventListener("click",()=>{if(document.querySelector(".message").textContent="Playing...",""===button.textContent&&"O"===lastBall?(button.textContent="X",lastBall="X",numberOfClicks++):""===button.textContent&&"X"===lastBall?(button.textContent="O",lastBall="O",numberOfClicks++):null==lastBall&&(button.textContent="O",lastBall="O",numberOfClicks++),grid[index]=button.textContent,"X"===lastBall){var last="X",wincase=!1;grid[0]===last&&grid[1]===last&&grid[2]===last?wincase=!0:grid[3]===last&&grid[4]===last&&grid[5]===last?wincase=!0:grid[6]===last&&grid[7]===last&&grid[8]===last?wincase=!0:grid[0]===last&&grid[3]===last&&grid[6]===last?wincase=!0:grid[1]===last&&grid[4]===last&&grid[7]===last?wincase=!0:grid[2]===last&&grid[5]===last&&grid[8]===last?wincase=!0:grid[0]===last&&grid[4]===last&&grid[8]===last?wincase=!0:grid[2]===last&&grid[4]===last&&grid[6]===last&&(console.log("hereee"),wincase=!0),wincase?(console.log("Player "+last+" wins!"),started=!1,document.querySelector(".message").textContent="Player "+last+" wins!",numberOfClicks=0,plays.forEach(button=>{button.textContent=""}),grid=[]):numberOfClicks%9==0&&(plays.forEach(button=>{button.textContent=""}),document.querySelector(".message").textContent="Tie",started=!1,grid=[])}else if("O"===lastBall){var last="O",wincase=!1;grid[0]===last&&grid[1]===last&&grid[2]===last?wincase=!0:grid[3]===last&&grid[4]===last&&grid[5]===last?wincase=!0:grid[6]===last&&grid[7]===last&&grid[8]===last?wincase=!0:grid[0]===last&&grid[3]===last&&grid[6]===last?wincase=!0:grid[1]===last&&grid[4]===last&&grid[7]===last?wincase=!0:grid[2]===last&&grid[5]===last&&grid[8]===last?wincase=!0:grid[0]===last&&grid[4]===last&&grid[8]===last?wincase=!0:grid[2]===last&&grid[4]===last&&grid[6]===last&&(wincase=!0),wincase?(document.querySelector(".message").textContent="Player "+last+" wins!",plays.forEach(button=>{button.textContent=""}),started=!1,grid=[]):numberOfClicks%9==0&&(plays.forEach(button=>{button.textContent="",document.querySelector(".message").textContent="Tie"}),grid=[],started=!1)}started||(started=!0)})}),startButton.addEventListener("click",()=>{started?confirm("Are You Sure to start again?")&&(plays.forEach(button=>{button.textContent=""}),grid=[]):(plays.forEach(button=>{button.textContent=""}),grid=[])});